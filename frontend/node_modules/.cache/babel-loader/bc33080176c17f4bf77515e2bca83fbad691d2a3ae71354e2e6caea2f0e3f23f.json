{"ast":null,"code":"import axios from 'axios';\nimport 'vue-toast-notification/dist/theme-bootstrap.css';\nimport { useToast } from 'vue-toast-notification';\nexport default {\n  data() {\n    return {\n      blogs: []\n    };\n  },\n  setup() {\n    const toast = useToast();\n    return {\n      toast\n    };\n  },\n  mounted() {\n    this.loadPage();\n  },\n  methods: {\n    loadPage() {\n      try {\n        axios.get('blogs/').then(response => {\n          console.log(response.data);\n          this.blogs = response.data;\n        }).catch(error => {\n          console.log('You are not authenticated');\n          this.triggerAuthenticateAlert();\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    deleteItem(blogID) {\n      axios.delete(`blogs/deleteblog/${blogID}/`);\n      this.loadPage();\n      window.location.reload();\n    },\n    getImageUrl(imagePath) {\n      return `http://localhost:8000/${imagePath}`;\n    },\n    triggerAuthenticateAlert() {\n      this.toast.warning(\"U must be authenticate if u want to see the blogs!\");\n    }\n  }\n};","map":{"version":3,"names":["axios","useToast","data","blogs","setup","toast","mounted","loadPage","methods","get","then","response","console","log","catch","error","triggerAuthenticateAlert","deleteItem","blogID","delete","window","location","reload","getImageUrl","imagePath","warning"],"sources":["/home/toree/Desktop/vue-drf-blog-dj/frontend/src/views/blog.vue"],"sourcesContent":["<template>\n<div class=\"container mb-5\">\n    <div class=\"row gy-3\">\n        <div class=\"col-md-12\">\n            <div v-for=\"blog in blogs\"\n                v-bind:key=\"blog.slug\"\n                class=\"card card mb-3 mt-3 \">\n                    <div class=\"card-body mb-2\">\n                        <div class=\"d-flex\">\n                            <div class=\"w-50% h-50%\">\n                                <img class=\"img-fluid img-thumbnail\" :src=\"getImageUrl(blog.image)\" alt=\"Blog Image\">\n                                <h5 class=\"card-title\">{{blog.title}}</h5>\n                            </div>\n                        </div>\n                       \n                        <p class=\"card-text\">{{blog.short_description}}</p>\n                        <p ><strong>Created at:  {{ blog.created_at }}</strong></p>\n                        \n                        \n                        <p>{{ blog.created_by_username}}</p>\n                        <router-link :to=\"{name:'blogd', params:{slug:blog.id}}\" class=\"ms-auto btn btn-primary\">See More!</router-link>\n                        <button @click=\"deleteItem(blog.id)\" class=\"btn btn-danger mx-4\">Delete!</button>\n                    </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n\n    \n</template>\n\n<script>\nimport axios from 'axios';\nimport 'vue-toast-notification/dist/theme-bootstrap.css'\nimport { useToast } from 'vue-toast-notification';\n\n\nexport default {\n    data() {\n        return {\n            blogs: []\n        }\n    },\n    setup(){\n        const toast = useToast();\n        return {toast}\n    },\n    mounted(){\n        this.loadPage()     \n    },\n    methods: {\n    loadPage() {\n      try {\n        axios\n          .get('blogs/')\n          .then(response => {\n            console.log(response.data);\n            this.blogs = response.data;\n          })\n          .catch(error => {\n            console.log('You are not authenticated');\n            this.triggerAuthenticateAlert()\n          });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    deleteItem(blogID) {\n      axios.delete(`blogs/deleteblog/${blogID}/`);\n      this.loadPage();\n      window.location.reload();\n    },\n    getImageUrl(imagePath) {\n      return `http://localhost:8000/${imagePath}`;\n    },\n    triggerAuthenticateAlert(){\n        this.toast.warning(\"U must be authenticate if u want to see the blogs!\")\n    }\n  }\n}\n\n\n</script>"],"mappings":"AAiCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAO,iDAAgD;AACvD,SAASC,QAAO,QAAS,wBAAwB;AAGjD,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE;IACX;EACJ,CAAC;EACDC,KAAKA,CAAA,EAAE;IACH,MAAMC,KAAI,GAAIJ,QAAQ,CAAC,CAAC;IACxB,OAAO;MAACI;IAAK;EACjB,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,QAAQ,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACTD,QAAQA,CAAA,EAAG;MACT,IAAI;QACFP,KAAI,CACDS,GAAG,CAAC,QAAQ,EACZC,IAAI,CAACC,QAAO,IAAK;UAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACT,IAAI,CAAC;UAC1B,IAAI,CAACC,KAAI,GAAIQ,QAAQ,CAACT,IAAI;QAC5B,CAAC,EACAY,KAAK,CAACC,KAAI,IAAK;UACdH,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;UACxC,IAAI,CAACG,wBAAwB,CAAC;QAChC,CAAC,CAAC;MACN,EAAE,OAAOD,KAAK,EAAE;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACpB;IACF,CAAC;IACDE,UAAUA,CAACC,MAAM,EAAE;MACjBlB,KAAK,CAACmB,MAAM,CAAE,oBAAmBD,MAAO,GAAE,CAAC;MAC3C,IAAI,CAACX,QAAQ,CAAC,CAAC;MACfa,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC1B,CAAC;IACDC,WAAWA,CAACC,SAAS,EAAE;MACrB,OAAQ,yBAAwBA,SAAU,EAAC;IAC7C,CAAC;IACDR,wBAAwBA,CAAA,EAAE;MACtB,IAAI,CAACX,KAAK,CAACoB,OAAO,CAAC,oDAAoD;IAC3E;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}